/* ===== BIASNEUTRALIZER SIDE PANEL STYLES ===== */

/* ===== CSS CUSTOM PROPERTIES (DESIGN TOKENS) ===== */
:root {

  
  /* CORE BRAND COLORS - Dark gradient background theme */
  --bg-gradient-top: #0F172A;        /* Dark slate blue (top of gradient) */
  --bg-gradient-bottom: #1A273C;     /* Slightly lighter slate blue (bottom) */
  --text-white-100: rgba(255, 255, 255, 1);      /* Primary text - full white */
  --text-white-90: rgba(255, 255, 255, 0.9);     /* Secondary text - 90% white */
  --text-white-80: rgba(255, 255, 255, 0.8);     /* Muted text - 80% white */

  /* ACCENT COLORS - Orange brand color with hover/active states */
  --accent-orange: #F97316;          /* Primary orange CTA button color */
  --accent-orange-hover: #EA6A0D;    /* Darker orange on hover */
  --accent-orange-active: #D65F0C;   /* Even darker orange when pressed */

  /* ENHANCED GLASSMORPHIC CARD EFFECTS - More pronounced glass appearance */
  --card-fill-stop1: rgba(255, 255, 255, 0.12);  /* Enhanced card background gradient start */
  --card-fill-stop2: rgba(255, 255, 255, 0.04);  /* Enhanced card background gradient end */
  --card-stroke-stop1: rgba(255, 255, 255, 0.35); /* Enhanced card border gradient start */
  --card-stroke-stop2: rgba(255, 255, 255, 0.08); /* Enhanced card border gradient end */
  --card-stroke-opacity: 0.85;       /* Enhanced border opacity level */
  --card-backdrop-blur: 28px;        /* Stronger blur effect strength */
  --card-shadow: 0 25px 50px rgba(0, 0, 0, 0.15), 
                 0 12px 24px rgba(0, 0, 0, 0.1),
                 inset 0 1px 0 rgba(255, 255, 255, 0.1); /* Enhanced layered shadows with inner highlight */

  /* TOGGLE SWITCH COLORS - On/off states for settings toggles */
  --toggle-off-bg: rgba(255, 255, 255, 0.06);    /* Toggle background when off */
  --toggle-off-stroke: rgba(255, 255, 255, 0.3); /* Toggle border when off */
  --toggle-on-bg: rgba(255, 255, 255, 0.1);      /* Toggle background when on */

  /* TYPOGRAPHY - Font family definitions */
  --font-poppins: 'Poppins', sans-serif;  /* Bold headers and product name */
  --font-inter: 'Inter', system-ui, sans-serif;   /* Body text and UI elements */

  /* LAYOUT DIMENSIONS - Fixed sizes for consistent layout */
  --panel-width: 408px;              /* Side panel fixed width */
  --card-width: 359.04px;            /* Status card width */
  --card-height: 163.2px;            /* Status card height */
  --cta-width: 256.02px;             /* Call-to-action button width */
  --cta-height: 48.96px;             /* Call-to-action button height */

  /* SPACING SYSTEM - Consistent spacing scale */
  --spacing-section-small: 24.48px;  /* Small gaps between elements */
  --spacing-section-medium: 32.64px; /* Medium gaps between sections */
  --spacing-section-large: 48.96px;  /* Large gaps for major sections */
  --card-padding: 24.48px 20.4px;    /* Internal padding for cards */
}

/* ===== GLOBAL RESET & BASE STYLES ===== */
* {
  margin: 0;                         /* Remove default margins */
  padding: 0;                        /* Remove default padding */
  box-sizing: border-box;            /* Include padding/border in element size */
}

/* BODY - Main container with enhanced dark gradient background */
body {
  width: var(--panel-width);         /* Fixed 400px width for side panel */
  min-height: 100vh;                 /* Full viewport height minimum */
  background: linear-gradient(180deg, var(--bg-gradient-top) 0%, var(--bg-gradient-bottom) 100%);
  font-family: var(--font-inter);    /* Inter font for body text */
  color: var(--text-white-100);      /* White text by default */
  overflow-x: hidden;                /* Prevent horizontal scrolling */
  position: relative;                /* For potential background effects */
}

/* Enhanced background texture for better glassmorphic contrast */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.08) 0%, transparent 50%),
    radial-gradient(circle at 40% 40%, rgba(120, 200, 255, 0.05) 0%, transparent 50%);
  pointer-events: none;
  z-index: 0;
}

/* PANEL CONTAINER - Main flexbox wrapper for all content */
.panel-container {
  display: flex;                     /* Flexbox layout */
  flex-direction: column;            /* Stack elements vertically */
  align-items: center;               /* Center content horizontally */
  padding: var(--spacing-section-medium) var(--spacing-section-small); /* 32px top/bottom, 24px sides */
  min-height: 100vh;                 /* Full height */
  position: relative;                /* For absolute positioned children */
  gap: var(--spacing-section-large); /* 48px gaps between major sections */
  z-index: 1;                        /* Above background texture */
}

/* ===== HEADER SECTION - Top area with logo and product name ===== */

/* PANEL HEADER - Container for brand name and logo */
.panel-header {
  width: 100%;                       /* Full width of panel */
  display: flex;                     /* Horizontal layout */
  justify-content: space-between;    /* Logo on left, brand on right */
  align-items: flex-start;           /* Align to top */
  margin-bottom: 0;                  /* Using gap from parent instead */
}

/* HEADER CONTENT - Text content wrapper (product name + subtitle) */
.header-content {
  display: flex;                     /* Stack text vertically */
  flex-direction: column;            /* Product name above subtitle */
  gap: 4px;                          /* Small gap between name and subtitle */
}

/* PRODUCT NAME - "BiasNeutralizer" main heading */
.product-name {
  font-size: 20.4px;                 /* Large, prominent text */
  line-height: 1.2;                  /* Tight line spacing */
  letter-spacing: -0.03em;           /* Slightly tighter character spacing */
  margin: 0;                         /* No margins */
}

/* BIAS - First part of product name (bold) */
.product-name .bias {
  font-family: var(--font-poppins);  /* Poppins font for emphasis */
  font-weight: 700;                  /* Bold weight */
}

/* NEUTRALIZER - Second part of product name (semi-bold) */
.product-name .neutralizer {
  font-family: var(--font-poppins);  /* Poppins font for emphasis */
  font-weight: 600;                  /* Semi-bold weight */
}

/* SUBTITLE - "Ready to analyze" descriptive text */
.subtitle {
  font-weight: 300;                  /* Light weight */
  font-size: 13.26px;                /* Small, secondary text size */
  letter-spacing: -0.06em;           /* Tighter spacing for small text */
  color: var(--text-white-80);       /* Muted white (80% opacity) */
  margin: 0;                         /* No margins */
}

/* HEADER ICON - Container for logo/brand mark */
.header-icon {
  width: 32px;                       /* Fixed square dimensions */
  height: 32px;                      /* Fixed square dimensions */
  color: var(--text-white-90);       /* Slightly muted white */
  flex-shrink: 0;                    /* Don't shrink in flex layout */
}

/* HEADER ICON IMAGE - The actual logo image */
.header-icon img {
  width: 100%;                       /* Fill container width */
  height: 100%;                      /* Fill container height */
  object-fit: contain;               /* Maintain aspect ratio, fit within bounds */
}

/* ===== STATUS CARD - Enhanced Glassmorphic card showing app status and settings ===== */

/* STATUS CARD - Main container with enhanced glassmorphic effect */
.status-card {
  width: var(--card-width);          /* Fixed 352px width */
  height: var(--card-height);        /* Fixed 160px height */
  border-radius: 12px;               /* More pronounced rounded corners */
  position: relative;                /* For layered glassmorphic effect */
  overflow: hidden;                  /* Clip content to rounded corners */
  box-shadow: var(--card-shadow);    /* Enhanced drop shadow for depth */
  margin-bottom: 40.8px;             /* Space below card */
  transform: translateZ(0);          /* Force hardware acceleration for smoother effects */
}

/* CARD BACKGROUND - Enhanced glassmorphic background layer with stronger blur */
.card-background {
  position: absolute;                /* Position behind content */
  inset: 0;                          /* Fill entire card */
  background: linear-gradient(135deg, var(--card-fill-stop1) 0%, var(--card-fill-stop2) 100%);
  backdrop-filter: blur(var(--card-backdrop-blur)) saturate(1.2);    /* Enhanced blur with saturation boost */
  -webkit-backdrop-filter: blur(var(--card-backdrop-blur)) saturate(1.2); /* Enhanced webkit blur */
  opacity: 1;                        /* Full opacity */
  border-radius: 12px;               /* Match parent border radius */
}

/* CARD BACKGROUND BORDER - Enhanced gradient border effect using pseudo-element */
.card-background::before {
  content: '';                       /* Empty pseudo-element for border */
  position: absolute;                /* Position for border layer */
  inset: 0;                          /* Cover entire background */
  border-radius: 12px;               /* Match parent border radius */
  padding: 1.5px;                    /* Slightly thicker border */
  background: linear-gradient(135deg, var(--card-stroke-stop1) 0%, var(--card-stroke-stop2) 100%);
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0); /* Create border mask */
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0); /* Standard property for compatibility */
  -webkit-mask-composite: xor;       /* Subtract inner area */
  mask-composite: exclude;           /* Standard mask composite */
  opacity: var(--card-stroke-opacity); /* Enhanced semi-transparent border */
}

/* Additional inner glow effect for enhanced glassmorphism */
.card-background::after {
  content: '';
  position: absolute;
  inset: 1px;
  border-radius: 11px;
  background: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.08) 0%, 
    rgba(255, 255, 255, 0.02) 50%, 
    rgba(255, 255, 255, 0.06) 100%);
  pointer-events: none;
}

/* CARD CONTENT - Container for status rows and content */
.card-content {
  position: relative;                /* Position above background */
  padding: var(--card-padding);      /* Internal spacing (24px 20px) */
  height: 100%;                      /* Fill card height */
  display: flex;                     /* Vertical layout */
  flex-direction: column;            /* Stack status rows */
  gap: 20.4px;                       /* Space between status rows */
  justify-content: flex-start;       /* Align to top */
  z-index: 2;                        /* Above background layers */
  backdrop-filter: blur(2px);        /* Subtle additional blur for text clarity */
}

/* ===== STATUS ROWS - Individual rows within the status card ===== */

/* STATUS ROW - Container for each status line (Status, Private Mode, Real-time) */
.status-row {
  display: flex;                     /* Horizontal layout */
  justify-content: space-between;    /* Label on left, value/toggle on right */
  align-items: center;               /* Vertically center content */
  min-height: 1.25rem;               /* Flexible min height using rem for better scalability */
  padding: 0.25rem 0;                /* Add subtle vertical padding for breathing room */
}

/* FIRST STATUS ROW - Special styling for the main status line */
.status-row:first-child .status-label {
  padding-left: 0;                   /* No left padding on first row (if needed elsewhere) */
}

.status-row:first-child .status-value {
  color: var(--text-white-90);       /* Slightly muted text for status value */
}

/* STATUS ITEM - Container for icon + label pairs */
.status-item {
  display: flex;                     /* Horizontal layout */
  align-items: center;               /* Vertically center icon and text */
  gap: 0.375rem;                     /* Small space between icon and text using rem */
}

/* STATUS LABEL - Text labels like "Status:", "Private Mode:", "Real-time:" */
.status-label {
  font-size: 1rem;                   /* Readable text using rem (assuming 16px base) */
  font-weight: 400;                  /* Normal weight */
  letter-spacing: -0.03em;           /* Slightly less tight spacing for better readability */
  color: var(--text-white-100);      /* Full white text */
  line-height: 1.2;                  /* Added line-height for consistency */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); /* Subtle text shadow for better readability on glass */
}

/* STATUS VALUE - Values like "Waiting for news", "Monitoring..." */
.status-value {
  font-size: 1rem;                   /* Match label size for consistency */
  font-weight: 400;                  /* Normal weight */
  letter-spacing: -0.03em;           /* Slightly less tight spacing for better readability */
  color: var(--text-white-90);       /* Slightly muted white */
  line-height: 1.2;                  /* Added line-height for consistency */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); /* Subtle text shadow for better readability on glass */
}

/* STATUS ICON - Small icons next to labels (🔒, ⚡) */
.status-icon {
  width: 1rem;                       /* Fixed square size using rem */
  height: 1rem;                      /* Fixed square size using rem */
  color: var(--text-white-100);      /* Full white for visibility */
  flex-shrink: 0;                    /* Prevent icon from shrinking */
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1)); /* Subtle shadow for icons */
}

/* ===== TOGGLE SWITCHES - Enhanced Interactive on/off controls for settings ===== */

/* TOGGLE - Enhanced toggle switch container (Private Mode, Real-time) */
.toggle {
  width: 36px;                       /* Fixed switch width */
  height: 20px;                      /* Fixed switch height */
  border-radius: 10px;               /* Pill-shaped rounded edges */
  position: relative;                /* For absolute positioned knob */
  cursor: pointer;                   /* Indicate clickable */
  border: 1px solid var(--toggle-off-stroke); /* Semi-transparent border when off */
  background: var(--toggle-off-bg);  /* Semi-transparent background when off */
  padding: 0;                        /* No internal padding */
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); /* Smooth animations */
  outline: none;                     /* Remove default focus outline */
  display: flex;                     /* Flexbox for knob positioning */
  align-items: center;               /* Center knob vertically */
  justify-content: flex-start;       /* Start knob on left */
  backdrop-filter: blur(8px);        /* Add blur to toggle background */
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1), 
              0 2px 4px rgba(0, 0, 0, 0.1); /* Inner and outer shadows */
}

/* TOGGLE ON STATE - When toggle is activated */
.toggle.on {
  background: var(--toggle-on-bg);   /* Slightly brighter background when on */
  border-color: rgba(255, 255, 255, 0.4); /* More visible border when on */
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1), 
              0 2px 8px rgba(0, 0, 0, 0.15),
              0 0 12px rgba(255, 255, 255, 0.1); /* Enhanced glow when active */
}

/* TOGGLE TRACK - Background track for the toggle (visual element) */
.toggle-track {
  position: absolute;                /* Positioned within toggle */
  inset: 0;                          /* Fill entire toggle area */
  border-radius: 10px;               /* Match toggle border radius */
  pointer-events: none;              /* Don't interfere with clicks */
}

/* TOGGLE KNOB - Enhanced circular button that slides within the toggle */
.toggle-knob {
  position: relative;                /* Positioned within flex container */
  width: 12px;                       /* Small circular knob */
  height: 12px;                      /* Small circular knob */
  border-radius: 50%;                /* Perfect circle */
  background: var(--text-white-100); /* White knob for contrast */
  margin-left: 3.06px;               /* Start position (off state) */
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); /* Smooth slide animation */
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25), 
              0 1px 2px rgba(0, 0, 0, 0.15),
              inset 0 1px 0 rgba(255, 255, 255, 0.2); /* Enhanced shadows with inner highlight */
  z-index: 1;                        /* Above track layer */
}

/* TOGGLE KNOB ON STATE - When toggle is activated */
.toggle.on .toggle-knob {
  margin-left: 19.38px;              /* End position (on state) */
  background: var(--text-white-100); /* Keep white color */
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3), 
              0 1px 3px rgba(0, 0, 0, 0.2),
              inset 0 1px 0 rgba(255, 255, 255, 0.3),
              0 0 8px rgba(255, 255, 255, 0.2); /* Enhanced shadow with glow */
}

/* TOGGLE HOVER STATE - Visual feedback on mouse hover */
.toggle:hover {
  border-color: rgba(255, 255, 255, 0.5); /* Brighter border on hover */
  transform: translateY(-1px);       /* Subtle lift effect */
}

.toggle:hover .toggle-knob {
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3), 
              0 2px 4px rgba(0, 0, 0, 0.2),
              inset 0 1px 0 rgba(255, 255, 255, 0.3); /* Enhanced shadow on hover */
}

/* TOGGLE FOCUS STATE - Accessibility outline when focused via keyboard */
.toggle:focus-visible {
  outline: 2px solid rgba(255, 255, 255, 0.4); /* Visible focus ring */
  outline-offset: 2px;               /* Space between element and outline */
}

/* ===== DETECTION HELPER - Status message about current page/article ===== */

/* DETECTION HELPER - Text showing what content was detected */
.detection-helper {
  margin: 20px 0;                    /* Top and bottom margins for isolation */
  margin-bottom: 50px;               /* Extra space below, bringing closer to button */
  font-size: 14.28px;                /* Medium-small readable text */
  font-weight: 500;                  /* Medium weight for emphasis */
  letter-spacing: -0.02em;           /* Tight character spacing */
  color: var(--text-white-90);       /* Slightly muted white text */
  text-align: center;                /* Center align the detection message */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); /* Subtle text shadow for better readability */
}

/* ===== CTA BUTTON - Enhanced call-to-action "Scan for bias" button ===== */
/* CTA BUTTON - Enhanced primary action button with glassmorphic elements */
.cta-button {
  width: var(--cta-width);           /* Fixed 251px width */
  height: var(--cta-height);         /* Fixed 48px height */
  border-radius: 25.5px;             /* Highly rounded pill shape */
  background: linear-gradient(135deg, var(--accent-orange) 0%, var(--accent-orange-hover) 100%); /* Gradient background */
  border: 1px solid rgba(255, 255, 255, 0.1); /* Subtle glass-like border */
  margin-top: 0;                     /* Using gap from parent instead */
  margin-bottom: 48px;               /* Space below button */
  font-family: var(--font-inter);    /* Inter font for consistency */
  font-weight: 550;                  /* Semi-bold weight */
  font-size: 28.56px;                /* Large, prominent text */
  letter-spacing: -0.05em;           /* Tight character spacing */
  color: var(--text-white-100);      /* White text for contrast */
  cursor: pointer;                   /* Indicate clickable */
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15), 
              0 12px 24px rgba(0, 0, 0, 0.1), 
              0 24px 48px rgba(249, 115, 22, 0.1),
              inset 0 1px 0 rgba(255, 255, 255, 0.1); /* Enhanced layered shadows with brand color glow */
  transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94), 
              box-shadow 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94), 
              background 0.3s ease, 
              filter 0.3s ease;      /* Enhanced transitions for premium feel */
  padding: 0 24px;                   /* Horizontal padding for text */
  position: relative;                /* For potential pseudo-elements */
  overflow: hidden;                  /* Contain any inner effects */
  backdrop-filter: blur(4px);        /* Subtle blur for glass effect */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); /* Text shadow for better readability */
}

/* Enhanced inner glow for CTA button */
.cta-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.15) 0%, 
    rgba(255, 255, 255, 0.05) 100%);
  border-radius: 25px 25px 50px 50px;
  pointer-events: none;
}

/* CTA BUTTON HOVER STATE - Enhanced visual feedback on mouse hover */
.cta-button:hover {
  background: linear-gradient(135deg, var(--accent-orange-hover) 0%, var(--accent-orange-active) 100%);
  transform: translateY(-3px) scale(1.02); /* More pronounced lift and scale */
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2), 
              0 16px 32px rgba(0, 0, 0, 0.15), 
              0 32px 64px rgba(249, 115, 22, 0.2),
              inset 0 1px 0 rgba(255, 255, 255, 0.2); /* Enhanced layered shadows with stronger glow */
  filter: brightness(1.05) saturate(1.1); /* Enhanced glow effect */
  border-color: rgba(255, 255, 255, 0.2); /* Brighter border on hover */
}

/* CTA BUTTON ACTIVE STATE - Visual feedback when pressed */
.cta-button:active {
  background: linear-gradient(135deg, var(--accent-orange-active) 0%, var(--accent-orange) 100%);
  transform: translateY(-1px) scale(0.98); /* Smooth press down */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15), 
              0 8px 16px rgba(0, 0, 0, 0.1), 
              0 16px 32px rgba(249, 115, 22, 0.15),
              inset 0 1px 0 rgba(255, 255, 255, 0.1); /* Reduced shadows for pressed feel */
  filter: brightness(0.95) saturate(1.05); /* Subtle dim for realism */
}

/* CTA BUTTON FOCUS STATE - Enhanced accessibility outline when focused via keyboard */
.cta-button:focus-visible {
  outline: 2px solid rgba(255, 255, 255, 0.4); /* Visible focus ring */
  outline-offset: 2px;               /* Space between button and outline */
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15), 
              0 12px 24px rgba(0, 0, 0, 0.1), 
              0 24px 48px rgba(249, 115, 22, 0.1),
              inset 0 1px 0 rgba(255, 255, 255, 0.1),
              0 0 0 4px rgba(249, 115, 22, 0.3); /* Enhanced glow ring for premium accessibility */
}

/* ===== UTILITY BAR - Bottom navigation with Settings, Reports, Help links ===== */

/* UTILITY BAR - Container for bottom navigation links */
.utility-bar {
  margin-top: auto;                  /* Push to bottom of panel */
  padding-top: 32.64px;              /* Space above utility bar */
  margin-bottom: var(--spacing-section-small); /* Space below (24px) */
  display: flex;                     /* Horizontal layout */
  justify-content: center;           /* Center links horizontally */
  align-items: center;               /* Center links vertically */
  gap: 32.64px;                      /* Space between utility links */
  width: 100%;                       /* Full width of panel */
}

/* UTILITY ITEM - Individual navigation links (Settings, Reports, Help) */
.utility-item {
  display: flex;                     /* Horizontal layout for icon + text */
  align-items: center;               /* Center icon and text vertically */
  gap: 6.12px;                       /* Small space between icon and text */
  font-weight: 300;                  /* Light font weight */
  font-size: 18.36px;                /* Medium text size */
  letter-spacing: -0.06em;           /* Tight character spacing */
  color: var(--text-white-90);       /* Slightly muted white text */
  text-decoration: none;             /* Remove underline from links */
  transition: all 0.2s ease;         /* Smooth hover transitions */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); /* Subtle text shadow for better readability */
}

/* UTILITY ITEM HOVER STATE - Visual feedback on mouse hover */
.utility-item:hover {
  color: var(--text-white-100);      /* Full white text on hover */
  transform: translateY(-1px);       /* Lift link slightly */
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.15); /* Enhanced shadow on hover */
}

/* UTILITY ITEM FOCUS STATE - Accessibility outline when focused via keyboard */
.utility-item:focus-visible {
  outline: 2px solid rgba(255, 255, 255, 0.4); /* Visible focus ring */
  outline-offset: 4px;               /* Space between link and outline */
  border-radius: 4px;                /* Rounded focus outline */
}

/* UTILITY ICON - Small icons next to utility link text (⚙️📈❓) */
.utility-icon {
  width: 18px;                       /* Fixed square size */
  height: 18px;                      /* Fixed square size */
  color: currentColor;               /* Inherit color from parent */
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1)); /* Subtle shadow for icons */
}

/* ===== RESPONSIVE DESIGN - Fluid and adaptive adjustments for various screen sizes ===== */

/* MOBILE-FIRST BASE STYLES - Default to mobile, scale up for larger screens with premium enhancements */
body {
  width: 100%;                       /* Full width by default */
  min-width: 320px;                  /* Minimum width for very small devices */
  max-width: 100vw;                  /* Prevent overflow */
}

/* PANEL CONTAINER - Fluid padding, gaps, and dynamic boldness for minimized states */
.panel-container {
  padding: clamp(16px, 4vw, 24px);   /* Fluid padding: min 16px, ideal 4vw, max 24px */
  gap: clamp(24px, 6vw, 48px);       /* Fluid gaps for better scaling */
  transition: padding 0.3s ease, gap 0.3s ease; /* Smooth transitions for drag/resize if JS-enabled */
}

/* ===== HIGHLIGHTING STATISTICS STYLES ===== */

/* Analysis results container */
.analysis-results {
  margin-top: 16px;
  padding: 12px;
  background: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.08) 0%, 
    rgba(255, 255, 255, 0.02) 100%);
  border-radius: 8px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(8px);
}

/* Bias score display */
.bias-score {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-white-100);
  margin-bottom: 12px;
  text-align: center;
}

/* Bias categories grid */
.bias-categories {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
  margin-bottom: 12px;
  font-size: 14px;
  color: var(--text-white-90);
}

/* Highlighted count */
.highlighted-count {
  font-size: 14px;
  color: var(--text-white-80);
  text-align: center;
  padding-top: 8px;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

/* Highlight statistics section */
.highlight-stats {
  margin-top: 16px;
  padding: 16px;
  background: linear-gradient(135deg, 
    rgba(247, 115, 22, 0.1) 0%, 
    rgba(247, 115, 22, 0.05) 100%);
  border-radius: 8px;
  border: 1px solid rgba(247, 115, 22, 0.2);
}

/* Highlight summary */
.highlight-summary {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-bottom: 12px;
}

/* Highlight count */
.highlight-count {
  font-size: 16px;
  font-weight: 600;
  color: var(--accent-orange);
  display: flex;
  align-items: center;
  gap: 8px;
}

/* Failed count */
.failed-count {
  font-size: 14px;
  color: #ff6b6b;
  display: flex;
  align-items: center;
  gap: 6px;
}

/* Average severity */
.average-severity {
  font-size: 14px;
  color: var(--text-white-90);
  display: flex;
  align-items: center;
  gap: 6px;
}

/* Bias breakdown */
.bias-breakdown {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 12px;
}

/* Bias type stat */
.bias-type-stat {
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 500;
  color: white;
  text-transform: capitalize;
}

.bias-type-stat.political {
  background: rgba(255, 107, 107, 0.8);
}

.bias-type-stat.emotional {
  background: rgba(255, 146, 43, 0.8);
}

.bias-type-stat.credibility {
  background: rgba(255, 217, 61, 0.8);
  color: #333;
}

.bias-type-stat.factual {
  background: rgba(78, 205, 196, 0.8);
}

.bias-type-stat.sensational {
  background: rgba(168, 230, 207, 0.8);
  color: #333;
}

/* Highlight controls */
.highlight-controls {
  display: flex;
  justify-content: space-between;
  gap: 8px;
  margin-top: 12px;
}

/* Control button */
.control-btn {
  flex: 1;
  padding: 8px 12px;
  border: none;
  border-radius: 6px;
  background: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.1) 0%, 
    rgba(255, 255, 255, 0.05) 100%);
  color: var(--text-white-90);
  font-size: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.control-btn:hover {
  background: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.15) 0%, 
    rgba(255, 255, 255, 0.08) 100%);
  border-color: rgba(255, 255, 255, 0.2);
  transform: translateY(-1px);
}

.control-btn:active {
  transform: translateY(0);
}

/* No highlights message */
.no-highlights {
  text-align: center;
  color: var(--text-white-80);
  font-style: italic;
  padding: 16px;
}

/* Error message styling */
.error-message {
  color: #ff6b6b;
  font-size: 14px;
  padding: 12px;
  background: rgba(255, 107, 107, 0.1);
  border-radius: 6px;
  border: 1px solid rgba(255, 107, 107, 0.2);
}

/* Credibility display enhancements */
.analysis-results {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.bias-summary {
  background: #f3f5fb;
  border-radius: 12px;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  box-shadow: inset 0 0 0 1px rgba(148, 163, 184, 0.18);
}

.bias-summary__header {
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  font-weight: 600;
  color: #475569;
}

.bias-summary__score {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  font-weight: 600;
  color: #1e293b;
}

.bias-summary__score .label {
  font-size: 0.8rem;
  font-weight: 500;
  color: #64748b;
}

.bias-summary__score .value {
  font-size: 1.25rem;
  font-variant-numeric: tabular-nums;
}

.bias-summary__level {
  align-self: flex-start;
  background: #1d4ed8;
  color: #fff;
  font-size: 0.75rem;
  padding: 4px 10px;
  border-radius: 999px;
  font-weight: 600;
}

.bias-summary__categories {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 8px 12px;
  padding: 0;
  margin: 0;
  list-style: none;
  font-size: 0.8rem;
  color: #475569;
}

.bias-summary__category {
  display: flex;
  justify-content: space-between;
  gap: 12px;
}

.bias-summary__category .label {
  font-weight: 500;
}

.bias-summary__category .value {
  font-variant-numeric: tabular-nums;
}

.bias-summary__highlights {
  font-size: 0.82rem;
  color: #475569;
}

.analysis-actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.analysis-actions button {
  border: none;
  border-radius: 999px;
  padding: 6px 14px;
  font-size: 0.78rem;
  font-weight: 600;
  cursor: pointer;
  background: #1d4ed8;
  color: #fff;
  transition: background 0.2s ease, transform 0.2s ease;
}

.analysis-actions button:nth-child(2) {
  background: #0f172a;
}

.analysis-actions button:hover,
.analysis-actions button:focus {
  transform: translateY(-1px);
  outline: none;
  background: #2563eb;
}

.analysis-actions button:nth-child(2):hover,
.analysis-actions button:nth-child(2):focus {
  background: #1e293b;
}

.credibility-display {
  border: 1px solid #e2e8f0;
  border-radius: 16px;
  padding: 16px;
  background: #ffffff;
  box-shadow: 0 6px 18px rgba(15, 23, 42, 0.08);
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.credibility-primary {
  display: flex;
  align-items: center;
  justify-content: flex-start;
}

.credibility-badge {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  border: none;
  border-radius: 999px;
  padding: 8px 16px;
  font-weight: 600;
  font-size: 0.9rem;
  color: #fff;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  box-shadow: 0 10px 20px rgba(15, 23, 42, 0.12);
}

.credibility-badge:focus-visible {
  outline: 2px solid #f8fafc;
  outline-offset: 3px;
}

.credibility-badge:hover {
  transform: translateY(-1px);
}

.credibility-badge__label {
  text-transform: uppercase;
  font-size: 0.75rem;
  letter-spacing: 0.05em;
}

.credibility-badge__score {
  font-size: 1rem;
  font-variant-numeric: tabular-nums;
}

.credibility-badge.tier-high {
  background: #0f9d58;
}

.credibility-badge.tier-moderate {
  background: #fbbc04;
  color: #1e293b;
}

.credibility-badge.tier-low {
  background: #ea4335;
}

.credibility-badge.tier-unreliable {
  background: #a142f4;
}

.credibility-badge.tier-unknown {
  background: #5a6b8c;
}

.credibility-summary {
  background: #f8fafc;
  border-radius: 14px;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  box-shadow: inset 0 0 0 1px rgba(148, 163, 184, 0.28);
}

.credibility-summary[hidden] {
  display: none;
}

.credibility-summary__stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 8px 12px;
  margin: 0;
  font-size: 0.78rem;
  color: #475569;
}

.credibility-summary__stats dt {
  font-weight: 600;
  color: #1f2937;
}

.credibility-summary__stats dd {
  margin: 0;
  font-variant-numeric: tabular-nums;
}

.credibility-badges {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.credibility-badge-chip {
  background: #e2e8f0;
  border-radius: 999px;
  padding: 4px 10px;
  font-size: 0.72rem;
  font-weight: 600;
  color: #334155;
}

.credibility-badge-chip.extra {
  background: transparent;
  border: 1px dashed #94a3b8;
  color: #475569;
}

.credibility-trend {
  font-size: 0.78rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.credibility-trend.trend-up {
  color: #0f9d58;
}

.credibility-trend.trend-down {
  color: #ea4335;
}

.credibility-trend.trend-flat {
  color: #64748b;
}

.credibility-details {
  border-top: 1px solid #e2e8f0;
  padding-top: 12px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.credibility-details[hidden] {
  display: none;
}

.credibility-details__title {
  font-size: 0.85rem;
  font-weight: 600;
  color: #1f2937;
  margin: 0;
}

.credibility-details__list {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 8px 12px;
  margin: 0;
  font-size: 0.78rem;
  color: #475569;
}

.credibility-details__list dt {
  font-weight: 600;
  color: #1f2937;
}

.credibility-details__list dd {
  margin: 0;
  font-variant-numeric: tabular-nums;
}

.credibility-details-toggle {
  align-self: flex-start;
  border: none;
  background: none;
  color: #2563eb;
  font-weight: 600;
  font-size: 0.78rem;
  cursor: pointer;
  padding: 0;
}

.credibility-details-toggle:hover,
.credibility-details-toggle:focus {
  text-decoration: underline;
}

.credibility-signals-block h5 {
  margin: 0;
  font-size: 0.8rem;
  font-weight: 600;
  color: #1f2937;
}

.credibility-signals {
  list-style: none;
  padding: 0;
  margin: 6px 0 0;
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: 0.76rem;
  color: #475569;
}

.credibility-comparison h5 {
  margin: 0;
  font-size: 0.8rem;
  font-weight: 600;
  color: #1f2937;
}

.credibility-comparison__list {
  list-style: none;
  padding: 0;
  margin: 6px 0 0;
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.credibility-comparison__item {
  background: #eef2ff;
  color: #1e293b;
  font-size: 0.75rem;
  padding: 6px 10px;
  border-radius: 8px;
  font-weight: 600;
}

.credibility-empty {
  font-size: 0.8rem;
  color: #64748b;
  font-style: italic;
}

/* ===== ANALYSIS DASHBOARD - Multi-faceted analysis layout ===== */

/* Analysis Dashboard Container */
.analysis-dashboard {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: var(--spacing-section-small); /* 24px gaps between sections */
  margin-top: var(--spacing-section-medium); /* 32px from CTA button */
  margin-bottom: var(--spacing-section-medium); /* 32px before utility bar */
}

/* Analysis Section - Individual analysis panels */
.analysis-section {
  background: linear-gradient(135deg, var(--card-fill-stop1) 0%, var(--card-fill-stop2) 100%);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 12px;
  padding: 20px;
  backdrop-filter: blur(var(--card-backdrop-blur));
  -webkit-backdrop-filter: blur(var(--card-backdrop-blur));
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12),
              0 4px 8px rgba(0, 0, 0, 0.08),
              inset 0 1px 0 rgba(255, 255, 255, 0.1);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.analysis-section:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 28px rgba(0, 0, 0, 0.15),
              0 6px 12px rgba(0, 0, 0, 0.1),
              inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

/* Section Title */
.section-title {
  font-family: var(--font-poppins);
  font-size: 16px;
  font-weight: 600;
  color: var(--text-white-100);
  margin: 0 0 12px 0;
  letter-spacing: -0.02em;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* Section Content */
.section-content {
  color: var(--text-white-90);
  font-size: 14px;
  line-height: 1.5;
  letter-spacing: -0.01em;
}

.section-content p {
  margin: 0 0 12px 0;
}

.section-content p:last-child {
  margin-bottom: 0;
}

.section-content em {
  color: var(--text-white-80);
  font-style: italic;
}

/* Emotion Metrics - Grid layout for emotional language scores */
.emotion-metrics {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px 16px;
  margin: 12px 0;
  padding: 12px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 8px;
  border: 1px solid rgba(255, 255, 255, 0.08);
}

.metric-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 13px;
}

.metric-label {
  color: var(--text-white-90);
  font-weight: 500;
}

.metric-value {
  color: var(--text-white-100);
  font-weight: 600;
  font-variant-numeric: tabular-nums;
  min-width: 40px;
  text-align: right;
}

/* Credibility Metrics - Similar to emotion metrics but for credibility */
.credibility-metrics {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin: 12px 0;
  padding: 12px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 8px;
  border: 1px solid rgba(255, 255, 255, 0.08);
}

/* Examples List - Container for example quotes */
.examples-list {
  margin-top: 12px;
  padding: 12px;
  background: rgba(0, 0, 0, 0.1);
  border-radius: 8px;
  border-left: 3px solid var(--accent-orange);
}

/* Devices List - Container for rhetorical devices */
.devices-list {
  margin-top: 12px;
  padding: 12px;
  background: rgba(120, 119, 198, 0.1);
  border-radius: 8px;
  border-left: 3px solid rgba(120, 119, 198, 0.5);
}

/* Fallacies List - Container for logical fallacies */
.fallacies-list {
  margin-top: 12px;
  padding: 12px;
  background: rgba(255, 119, 198, 0.1);
  border-radius: 8px;
  border-left: 3px solid rgba(255, 119, 198, 0.5);
}

/* Responsive adjustments for analysis sections */
@media (max-width: 380px) {
  .emotion-metrics {
    grid-template-columns: 1fr;
    gap: 8px;
  }

  .analysis-section {
    padding: 16px;
  }

  .section-title {
    font-size: 15px;
  }

  .section-content {
    font-size: 13px;
  }
}

/* Loading state for sections */
.analysis-section.loading {
  opacity: 0.6;
  pointer-events: none;
}

.analysis-section.loading::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 20px;
  height: 20px;
  margin: -10px 0 0 -10px;
  border: 2px solid transparent;
  border-top: 2px solid var(--text-white-100);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.bn-scanner {
  width: 300px;
  height: 300px;
  position: relative;
}

.bn-hex-core {
  width: 80px;
  height: 80px;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: linear-gradient(135deg, #FF8A34, #FF6B1A);
  clip-path: polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%);
  animation: hexSuperSpin 8s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  filter: drop-shadow(0 0 30px rgba(255, 138, 52, 0.6));
  z-index: 10;
}

.bn-hex-core::before {
  content: '';
  position: absolute;
  inset: 15%;
  background: linear-gradient(135deg, #FFB366, #FF8A34);
  clip-path: polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%);
  animation: vortexGlow 8s ease-in-out infinite;
}

.bn-vortex {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 150px;
  height: 150px;
  transform: translate(-50%, -50%);
  background: radial-gradient(circle at center,
    transparent 30%,
    rgba(255, 138, 52, 0.1) 40%,
    rgba(110, 168, 255, 0.05) 60%,
    transparent 70%);
  animation: vortexSpin 8s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  filter: blur(2px);
}

.bn-scan-ring {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 120px;
  height: 120px;
  border: 2px solid;
  border-radius: 50%;
  border-color: transparent;
  animation: ringCollapse 8s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.bn-scan-ring::before,
.bn-scan-ring::after {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: 50%;
  border: 2px solid transparent;
  border-top-color: #FF8A34;
  border-right-color: #FF8A34;
  animation: scanIntensity 8s ease-in-out infinite;
}

.bn-scan-ring::after {
  border-top-color: #6EA8FF;
  border-right-color: #6EA8FF;
  transform: rotate(180deg);
}

.bn-particle {
  position: absolute;
  width: 6px;
  height: 6px;
  background: #FF8A34;
  border-radius: 50%;
  top: 50%;
  left: 50%;
  transform-origin: center;
  filter: blur(0.5px);
  box-shadow: 0 0 15px currentColor;
  animation: particleSuckIn 8s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.bn-particle:nth-child(3) {
  top: 10%;
  left: 20%;
  background: #FF8A34;
  animation-delay: 0s;
}

.bn-particle:nth-child(4) {
  top: 80%;
  left: 15%;
  background: #6EA8FF;
  animation-delay: 0.2s;
}

.bn-particle:nth-child(5) {
  top: 20%;
  left: 85%;
  background: #FF8A34;
  animation-delay: 0.4s;
}

.bn-particle:nth-child(6) {
  top: 90%;
  left: 80%;
  background: #6EA8FF;
  animation-delay: 0.6s;
}

.bn-particle:nth-child(7) {
  top: 50%;
  left: 5%;
  background: #FF8A34;
  animation-delay: 0.8s;
}

.bn-particle:nth-child(8) {
  top: 30%;
  left: 50%;
  background: #6EA8FF;
  animation-delay: 1s;
}

.bn-particle:nth-child(9) {
  top: 70%;
  left: 50%;
  background: #FF8A34;
  animation-delay: 1.2s;
}

.bn-particle:nth-child(10) {
  top: 50%;
  left: 95%;
  background: #6EA8FF;
  animation-delay: 1.4s;
}

.bn-fragment {
  position: absolute;
  width: 30px;
  height: 2px;
  background: linear-gradient(90deg, transparent, #FF8A34, transparent);
  transform-origin: center;
  animation: fragmentPull 8s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.bn-fragment:nth-child(11) {
  top: 25%;
  left: 10%;
  transform: rotate(45deg);
  animation-delay: 0.1s;
}

.bn-fragment:nth-child(12) {
  top: 75%;
  left: 20%;
  transform: rotate(-30deg);
  animation-delay: 0.3s;
}

.bn-fragment:nth-child(13) {
  top: 40%;
  left: 90%;
  transform: rotate(60deg);
  animation-delay: 0.5s;
}

.bn-fragment:nth-child(14) {
  top: 60%;
  left: 85%;
  transform: rotate(-45deg);
  animation-delay: 0.7s;
}

.bn-wave {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 250px;
  height: 250px;
  border: 1px solid rgba(255, 138, 52, 0.2);
  border-radius: 50%;
  animation: waveConverge 8s ease-out infinite;
}

.bn-wave:nth-child(15) {
  animation-delay: 0s;
}

.bn-wave:nth-child(16) {
  animation-delay: 0.5s;
  width: 280px;
  height: 280px;
}

.bn-wave:nth-child(17) {
  animation-delay: 1s;
  width: 310px;
  height: 310px;
}

@keyframes hexSuperSpin {
  0% {
    transform: translate(-50%, -50%) scale(1) rotate(0deg);
    filter: drop-shadow(0 0 30px rgba(255, 138, 52, 0.6));
  }
  30% {
    transform: translate(-50%, -50%) scale(1.05) rotate(180deg);
    filter: drop-shadow(0 0 35px rgba(255, 138, 52, 0.7));
  }
  35% {
    transform: translate(-50%, -50%) scale(1.1) rotate(360deg);
    filter: drop-shadow(0 0 40px rgba(255, 138, 52, 0.8));
  }
  45% {
    transform: translate(-50%, -50%) scale(1.3) rotate(1800deg);
    filter: drop-shadow(0 0 80px rgba(255, 138, 52, 1))
            drop-shadow(0 0 120px rgba(110, 168, 255, 0.8))
            blur(1px);
  }
  55% {
    transform: translate(-50%, -50%) scale(1.3) rotate(2880deg);
    filter: drop-shadow(0 0 80px rgba(255, 138, 52, 1))
            drop-shadow(0 0 120px rgba(110, 168, 255, 0.8))
            blur(1px);
  }
  65% {
    transform: translate(-50%, -50%) scale(1.15) rotate(3240deg);
    filter: drop-shadow(0 0 50px rgba(255, 138, 52, 0.9));
  }
  85% {
    transform: translate(-50%, -50%) scale(1.05) rotate(3420deg);
    filter: drop-shadow(0 0 35px rgba(255, 138, 52, 0.7));
  }
  100% {
    transform: translate(-50%, -50%) scale(1) rotate(3600deg);
    filter: drop-shadow(0 0 30px rgba(255, 138, 52, 0.6));
  }
}

@keyframes vortexSpin {
  0%, 30% {
    transform: translate(-50%, -50%) scale(1) rotate(0deg);
    opacity: 0;
  }
  35% {
    transform: translate(-50%, -50%) scale(2) rotate(-180deg);
    opacity: 0.3;
  }
  45%, 55% {
    transform: translate(-50%, -50%) scale(3) rotate(-1440deg);
    opacity: 0.8;
  }
  65% {
    transform: translate(-50%, -50%) scale(2) rotate(-1800deg);
    opacity: 0.3;
  }
  100% {
    transform: translate(-50%, -50%) scale(1) rotate(-2160deg);
    opacity: 0;
  }
}

@keyframes particleSuckIn {
  0%, 30% {
    transform: scale(1) translate(0, 0);
    opacity: 0.3;
    filter: blur(0px);
  }
  35% {
    transform: scale(1.2) translate(0, 0);
    opacity: 0.8;
  }
  45% {
    transform: scale(1.5) translate(calc(50% - var(--x, 0)), calc(50% - var(--y, 0)));
    opacity: 1;
    filter: blur(2px);
  }
  50% {
    transform: scale(0.1) translate(0, 0);
    opacity: 0;
  }
  55% {
    transform: scale(0) translate(0, 0);
    opacity: 0;
  }
  70% {
    transform: scale(0.5) translate(0, 0);
    opacity: 0.5;
  }
  100% {
    transform: scale(1) translate(0, 0);
    opacity: 0.3;
  }
}

@keyframes fragmentPull {
  0%, 30% {
    opacity: 0;
    transform: rotate(var(--rotation, 45deg)) translateX(0);
  }
  35% {
    opacity: 0.6;
    transform: rotate(var(--rotation, 45deg)) translateX(0);
  }
  45% {
    opacity: 1;
    transform: rotate(var(--rotation, 45deg)) translateX(100px) scaleX(2);
  }
  50% {
    opacity: 0;
    transform: rotate(var(--rotation, 45deg)) translateX(0) scaleX(0.1);
  }
  100% {
    opacity: 0;
    transform: rotate(var(--rotation, 45deg)) translateX(0);
  }
}

@keyframes waveConverge {
  0%, 30% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0;
    border-width: 1px;
  }
  35% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.5;
    border-width: 2px;
  }
  50% {
    transform: translate(-50%, -50%) scale(0.3);
    opacity: 0.8;
    border-width: 3px;
    border-color: rgba(255, 138, 52, 0.8);
  }
  55% {
    transform: translate(-50%, -50%) scale(0.1);
    opacity: 0;
    border-width: 5px;
  }
  100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0;
    border-width: 1px;
  }
}

@keyframes ringCollapse {
  0%, 30% {
    transform: translate(-50%, -50%) rotate(0deg) scale(1);
  }
  35% {
    transform: translate(-50%, -50%) rotate(-90deg) scale(1.2);
  }
  45%, 50% {
    transform: translate(-50%, -50%) rotate(-720deg) scale(0.5);
  }
  55% {
    transform: translate(-50%, -50%) rotate(-1080deg) scale(1.5);
  }
  70% {
    transform: translate(-50%, -50%) rotate(-1260deg) scale(1.2);
  }
  100% {
    transform: translate(-50%, -50%) rotate(-1440deg) scale(1);
  }
}

@keyframes vortexGlow {
  0%, 30% {
    opacity: 0.6;
    transform: scale(1);
    background: linear-gradient(135deg, #FFB366, #FF8A34);
  }
  45%, 55% {
    opacity: 1;
    transform: scale(0.5);
    background: radial-gradient(circle, #FFFFFF, #FFB366, #FF8A34);
    filter: brightness(2);
  }
  100% {
    opacity: 0.6;
    transform: scale(1);
    background: linear-gradient(135deg, #FFB366, #FF8A34);
  }
}

@keyframes statusPulse {
  0%, 30% {
    opacity: 0.7;
    transform: translateX(-50%) scale(1);
  }
  45%, 55% {
    opacity: 1;
    transform: translateX(-50%) scale(1.1);
    text-shadow: 0 0 20px rgba(255, 138, 52, 0.8);
  }
  100% {
    opacity: 0.7;
    transform: translateX(-50%) scale(1);
  }
}

@keyframes scanIntensity {
  0%, 30% {
    opacity: 0.3;
    filter: blur(0px);
  }
  45%, 55% {
    opacity: 1;
    filter: blur(3px) drop-shadow(0 0 40px currentColor);
  }
  100% {
    opacity: 0.3;
    filter: blur(0px);
  }
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation: none !important;
  }

  .bn-hex-core {
    transform: translate(-50%, -50%);
    animation: breathe 3s ease-in-out infinite;
  }
}

@keyframes breathe {
  0%, 100% { opacity: 0.8; filter: drop-shadow(0 0 20px rgba(255, 138, 52, 0.6)); }
  50% { opacity: 1; filter: drop-shadow(0 0 30px rgba(255, 138, 52, 0.8)); }
}

.scan-status {
  margin-top: 30px;
  color: #FFFFFF;
  font-family: 'Inter', system-ui, sans-serif;
  font-size: 18px;
  font-weight: 600;
  text-align: center;
  letter-spacing: 0.02em;
  text-shadow: 0 0 20px rgba(255, 138, 52, 0.6),
               0 0 40px rgba(255, 138, 52, 0.3),
               0 2px 4px rgba(0, 0, 0, 0.4);
  max-width: 320px;
}

#scan-status-text {
  position: relative;
  animation: slideInUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  opacity: 1;
  transform: translateY(0);
}

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(30px) scale(0.9);
    filter: blur(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
}

@keyframes slideOutUp {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
  to {
    opacity: 0;
    transform: translateY(-30px) scale(0.95);
    filter: blur(3px);
  }
}

#scan-status-text.exiting {
  animation: slideOutUp 0.5s cubic-bezier(0.6, 0.04, 0.98, 0.335) forwards;
}
@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(30px) scale(0.9);
    filter: blur(4px);
    text-shadow: 0 0 5px rgba(255, 138, 52, 0.2);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
    text-shadow: 0 0 20px rgba(255, 138, 52, 0.6),
                 0 0 40px rgba(255, 138, 52, 0.3),
                 0 2px 4px rgba(0, 0, 0, 0.4);
  }
}

@keyframes slideOutUp {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
    text-shadow: 0 0 20px rgba(255, 138, 52, 0.6),
                 0 0 40px rgba(255, 138, 52, 0.3);
  }
  to {
    opacity: 0;
    transform: translateY(-30px) scale(0.95);
    filter: blur(3px);
    text-shadow: 0 0 30px rgba(255, 138, 52, 0.8),
                 0 0 60px rgba(255, 138, 52, 0.4);
  }
}

/* Ambient scan-text effects */
@keyframes shineSweep {
  0% { background-position: -50% 0; }
  50% { background-position: 120% 0; }
  100% { background-position: 200% 0; }
}

@keyframes glowBreath {
  0%, 100% {
    filter: brightness(1) saturate(1);
    text-shadow: 0 0 12px rgba(255, 138, 52, 0.35),
                 0 0 24px rgba(255, 138, 52, 0.18),
                 0 1px 2px rgba(0, 0, 0, 0.25);
  }
  50% {
    filter: brightness(1.06) saturate(1.08);
    text-shadow: 0 0 20px rgba(255, 138, 52, 0.6),
                 0 0 36px rgba(110, 168, 255, 0.28),
                 0 2px 4px rgba(0, 0, 0, 0.35);
  }
}

@keyframes phasePulse {
  0%, 100% { letter-spacing: 0.02em; }
  50% { letter-spacing: 0.06em; }
}

@keyframes dotBreathe {
  0%, 100% { transform: scale(1); box-shadow: 0 0 10px rgba(255,255,255,0.35); }
  50% { transform: scale(1.35); box-shadow: 0 0 18px rgba(255,255,255,0.6); }
}

@keyframes statusPop {
  0% { transform: translateY(0) scale(0.96); filter: blur(0.5px); opacity: 0.9; }
  60% { transform: translateY(-2px) scale(1.04); filter: blur(0); opacity: 1; }
  100% { transform: translateY(0) scale(1); }
}

#scan-status-text.exiting {
  animation: slideOutUp 0.5s cubic-bezier(0.6, 0.04, 0.98, 0.335) forwards;  /* Smooth acceleration */
}

.cancel-button {
  position: absolute;
  top: 15px;
  right: 15px;
  background: rgba(0, 0, 0, 0.3);
  border: none;
  color: white;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  font-size: 20px;
  line-height: 30px;
  text-align: center;
  cursor: pointer;
  z-index: 20;
  transition: background-color 0.2s ease, transform 0.2s ease;
}

.cancel-button:hover {
  background: rgba(0, 0, 0, 0.5);
}

.panel-container.scanning > *:not(#animation-container) {
  display: none;
}

#animation-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background: linear-gradient(180deg, #0F172A 0%, #1A273C 100%);
  z-index: 100;
}

.cancel-button {
  position: absolute;
  top: 20px;
  right: 20px;
  width: 32px;
  height: 32px;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  color: white;
  font-size: 20px;
  font-weight: 300;
  line-height: 30px;
  text-align: center;
  cursor: pointer;
  z-index: 110;
  transition: background 0.2s ease, transform 0.2s ease;
}

.cancel-button:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: scale(1.1);
}
.panel-container.results-visible > *:not(.analysis-dashboard) {
  display: none;
}

/* --- New UI State Management --- */

/* By default, hide the animation and results */
#animation-container, .analysis-dashboard {
  display: none;
}

/* When scanning, hide everything BUT the animation */
.panel-container.scanning > *:not(#animation-container) {
  display: none;
}
.panel-container.scanning #animation-container {
  display: flex; /* This makes the animation visible */
}

/* When showing results, hide everything BUT the dashboard */
.panel-container.results-visible > *:not(.analysis-dashboard) {
  display: none;
}
.panel-container.results-visible .analysis-dashboard {
  display: flex; /* This makes the results visible */
}

/* ===== NOTIFICATION TOAST - Custom notification system ===== */

/* Notification Toast Container */
#notification-toast {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%) translateY(200%);
  min-width: 280px;
  max-width: 90%;
  padding: 16px 20px;
  border-radius: 12px;
  background: linear-gradient(135deg,
    rgba(255, 255, 255, 0.12) 0%,
    rgba(255, 255, 255, 0.08) 100%);
  border: 1px solid rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3),
              0 4px 8px rgba(0, 0, 0, 0.2),
              inset 0 1px 0 rgba(255, 255, 255, 0.1);
  z-index: 9999;
  transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1),
              opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  opacity: 0;
  pointer-events: none;
}

/* Visible state - slide up into view */
#notification-toast.visible {
  transform: translateX(-50%) translateY(0);
  opacity: 1;
  pointer-events: auto;
}

/* Toast message text */
#notification-toast span {
  display: block;
  color: var(--text-white-100);
  font-family: var(--font-inter);
  font-size: 14px;
  font-weight: 500;
  line-height: 1.4;
  text-align: center;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

/* Success notification style */
#notification-toast.success {
  background: linear-gradient(135deg,
    rgba(16, 185, 129, 0.25) 0%,
    rgba(5, 150, 105, 0.2) 100%);
  border-color: rgba(16, 185, 129, 0.4);
  box-shadow: 0 8px 24px rgba(16, 185, 129, 0.2),
              0 4px 8px rgba(0, 0, 0, 0.2),
              inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

/* Error notification style */
#notification-toast.error {
  background: linear-gradient(135deg,
    rgba(239, 68, 68, 0.25) 0%,
    rgba(220, 38, 38, 0.2) 100%);
  border-color: rgba(239, 68, 68, 0.4);
  box-shadow: 0 8px 24px rgba(239, 68, 68, 0.2),
              0 4px 8px rgba(0, 0, 0, 0.2),
              inset 0 1px 0 rgba(255, 255, 255, 0.15);
}