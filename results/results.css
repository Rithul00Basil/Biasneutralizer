:root {
  --color-primary: #F97316;
  --color-primary-light: #FB923C;
  --color-primary-dark: #EA580C;
  --color-secondary: #8B5CF6;
  --color-success: #10B981;
  --gradient-primary: linear-gradient(135deg, #F97316 0%, #EA580C 100%);
  --gradient-glass: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
  --glass-bg: rgba(255, 255, 255, 0.06);
  --glass-bg-hover: rgba(255, 255, 255, 0.1);
  --glass-border: rgba(255, 255, 255, 0.12);
  --glass-border-hover: rgba(255, 255, 255, 0.2);
  --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.24);
  --shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.32);
  --shadow-glow: 0 0 24px rgba(249, 115, 22, 0.3);
  --font-poppins: 'Poppins', sans-serif;
  --font-inter: 'Inter', sans-serif;
  --text-white-100: rgba(255, 255, 255, 1);
  --text-white-90: rgba(255, 255, 255, 0.9);
  --text-white-80: rgba(255, 255, 255, 0.8);
  --text-white-70: rgba(255, 255, 255, 0.7);
  --text-white-60: rgba(255, 255, 255, 0.6);
  --text-white-40: rgba(255, 255, 255, 0.4);
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  --spacing-2xl: 48px;
  --spacing-3xl: 64px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 20px;
  --radius-full: 999px;
  --transition-base: 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  --accent-orange: #F97316;
  --accent-orange-hover: #EA580C;
  --spacing-section-medium: 24px;
}

*{box-sizing:border-box}
body{margin:0;padding:0;font-family:var(--font-inter);background:linear-gradient(180deg,#0F172A 0%,#1E293B 50%,#334155 100%);color:var(--text-white-90);overflow-x:hidden}

html,body{min-height:100%;margin:0;padding:0}
.panel-container{display:flex;flex-direction:column}
.results-container{min-height:100vh;width:100%;padding:0;position:relative;overflow-x:hidden}

/* Utility */
.hidden{display:none !important}

/* Loading state */
.loading-state{position:fixed;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;z-index:1000;background:rgba(15,23,42,0.6);backdrop-filter:blur(6px);color:var(--text-white-90)}
.loading-state .spinner{width:42px;height:42px;border-radius:50%;border:3px solid rgba(255,255,255,0.25);border-top-color:#fff;animation:spin 0.9s linear infinite}
.loading-state .loading-text{font-family:var(--font-inter);font-size:14px;opacity:0.9}
@keyframes spin{to{transform:rotate(360deg)}}

.orb{position:fixed;border-radius:50%;filter:blur(80px);opacity:0.3;pointer-events:none;z-index:0;animation:float 20s ease-in-out infinite}
.orb-1{width:400px;height:400px;background:radial-gradient(circle,rgba(249,115,22,0.4) 0%,transparent 70%);top:-10%;right:-10%;animation-delay:0s}
.orb-2{width:500px;height:500px;background:radial-gradient(circle,rgba(139,92,246,0.3) 0%,transparent 70%);bottom:-15%;left:-15%;animation-delay:-7s}
.orb-3{width:350px;height:350px;background:radial-gradient(circle,rgba(59,130,246,0.25) 0%,transparent 70%);top:40%;left:50%;animation-delay:-14s}
@keyframes float{0%,100%{transform:translate(0,0) scale(1)}25%{transform:translate(50px,-50px) scale(1.1)}50%{transform:translate(-30px,30px) scale(0.9)}75%{transform:translate(-60px,-20px) scale(1.05)}}

.results-top-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 24px;
  position: sticky;
  top: 0;
  z-index: 10;
  width: 100%;
}
@keyframes slideDown{from{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}
.results-main-content{padding-top:80px}

.results-title{text-align:left;display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit}
.results-branding{display:flex;align-items:center;gap:16px}
.results-branding .header-icon{display:flex}
.results-title .product-name{font-family:var(--font-poppins);font-size:20px;font-weight:700;margin:0;letter-spacing:-0.02em;background:linear-gradient(135deg,#FFFFFF 0%,rgba(255,255,255,0.8) 100%);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}

.back-link{display:inline-flex;align-items:center;gap:8px;padding:10px 20px;border-radius:var(--radius-full);border:1px solid var(--glass-border);background:var(--glass-bg);color:var(--text-white-90);font-family:var(--font-inter);font-size:14px;font-weight:500;cursor:pointer;transition:all var(--transition-base);backdrop-filter:blur(10px)}
.back-link:hover{background:var(--glass-bg-hover);border-color:var(--glass-border-hover);transform:translateX(-4px);box-shadow:0 4px 16px rgba(0,0,0,0.16)}
.back-icon{font-size:18px;transition:transform var(--transition-base)}
.back-link:hover .back-icon{transform:translateX(-2px)}

.header-icon img{width:36px;height:36px;filter:drop-shadow(0 2px 8px rgba(249,115,22,0.3));animation:pulse 3s ease-in-out infinite}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}

.bias-hero{width:100%;max-width:1200px;margin:var(--spacing-xl) auto;padding:0 var(--spacing-lg);display:grid;grid-template-columns:auto 1fr;align-items:center;gap:var(--spacing-2xl);position:relative;z-index:10;animation:fadeInUp 0.8s var(--transition-slow) 0.2s both}
@keyframes fadeInUp{from{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}
.bias-hero.initially-hidden{display:none}

.hero-content{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-lg);padding:var(--spacing-2xl);background:var(--gradient-glass);backdrop-filter:blur(20px);border-radius:var(--radius-xl);border:1px solid var(--glass-border);box-shadow:var(--shadow-xl),inset 0 1px 0 rgba(255,255,255,0.1);position:relative;overflow:hidden}
.hero-content::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:conic-gradient(from 0deg at 50% 50%,transparent 0deg,rgba(249,115,22,0.1) 180deg,transparent 360deg);animation:rotate 10s linear infinite;pointer-events:none}
@keyframes rotate{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}

.hero-label{font-family:var(--font-inter);font-size:11px;font-weight:600;letter-spacing:0.1em;text-transform:uppercase;color:var(--text-white-60);padding:6px 16px;background:rgba(255,255,255,0.05);border:1px solid var(--glass-border);border-radius:var(--radius-full);position:relative;z-index:1}

.bias-rating-container{position:relative;display:flex;align-items:center;justify-content:center;z-index:1}
.bias-rating{font-family:var(--font-poppins);font-weight:800;font-size:28px;letter-spacing:-0.02em;color:white;background:var(--gradient-primary);width:120px;height:120px;border-radius:50%;display:flex;align-items:center;justify-content:center;text-align:center;line-height:1.2;padding:0;box-shadow:var(--shadow-lg),var(--shadow-glow),inset 0 2px 0 rgba(255,255,255,0.2);transition:all var(--transition-base);cursor:default;position:relative;z-index:2;text-shadow:0 2px 4px rgba(0,0,0,0.2)}
.bias-rating:hover{transform:translateY(-4px) scale(1.02);box-shadow:var(--shadow-xl),0 0 32px rgba(249,115,22,0.4),inset 0 2px 0 rgba(255,255,255,0.2)}

.hero-rating-visual{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-md)}
.bias-confidence{font-family:var(--font-inter);font-weight:600;font-size:14px;letter-spacing:-0.01em;color:var(--text-white-80)}
.hero-details{display:flex;flex-direction:column;gap:var(--spacing-xl)}

.assistant-trigger-container{width:100%;max-width:1200px;margin:var(--spacing-lg) auto;padding:0 var(--spacing-lg);display:flex;flex-direction:column;gap:var(--spacing-md);align-items:center;z-index:10;position:relative;animation:fadeInUp 0.8s var(--transition-slow) 0.4s both; border-radius: var(--radius-full);}

.assistant-input-bar{width:100%;display:flex;align-items:center;justify-content:flex-start;gap:12px;padding:18px 28px;border-radius:var(--radius-full);cursor:pointer;transition:all var(--transition-base);background:linear-gradient(135deg,rgba(15,23,42,0.75) 0%,rgba(30,41,59,0.6) 100%);border:1px solid rgba(255,255,255,0.12);box-shadow:inset 0 1px 3px rgba(255,255,255,0.08),inset 0 -10px 18px rgba(15,23,42,0.55),0 18px 36px rgba(15,23,42,0.35)}
.assistant-input-bar:hover{border-color:rgba(255,255,255,0.2);box-shadow:inset 0 1px 4px rgba(255,255,255,0.12),inset 0 -12px 24px rgba(15,23,42,0.6),0 24px 44px rgba(15,23,42,0.45);transform:translateY(-2px)}
.assistant-placeholder{color:var(--text-white-70);font-family:var(--font-inter);font-size:15px;font-weight:500;letter-spacing:0.01em}

.prompt-starters{display:flex;gap:8px;justify-content:center;flex-wrap:wrap}
.prompt-starter-btn{padding:8px 16px;font-family:var(--font-inter);font-size:12px;font-weight:500;color:var(--text-white-70);background:rgba(255,255,255,0.05);border:1px solid var(--glass-border);border-radius:var(--radius-full);cursor:pointer;transition:all var(--transition-base);backdrop-filter:blur(10px)}
.prompt-starter-btn:hover{background:rgba(255,255,255,0.1);color:var(--text-white-100);border-color:var(--glass-border-hover);transform:translateY(-1px);box-shadow:0 2px 8px rgba(0,0,0,0.12)}

.on-device-warning{display:none;width:100%;max-width:1200px;margin:var(--spacing-xl) auto 0;padding:var(--spacing-md) var(--spacing-lg);background:linear-gradient(135deg,rgba(245,158,11,0.12) 0%,rgba(245,158,11,0.06) 100%);border:1px solid rgba(245,158,11,0.3);border-radius:var(--radius-md);align-items:center;gap:var(--spacing-md);box-shadow:0 2px 8px rgba(0,0,0,0.12),inset 0 1px 0 rgba(255,255,255,0.1);backdrop-filter:blur(10px)}
.on-device-warning.visible{display:flex;animation:fadeInUp 0.5s var(--transition-base)}
.warning-icon{font-size:22px;flex-shrink:0;line-height:1}
.warning-text{font-family:var(--font-inter);font-size:14px;font-weight:500;letter-spacing:-0.01em;color:var(--text-white-90);line-height:1.6}
.warning-text strong{color:var(--text-white-100);font-weight:600}

.report-meta{display:flex;flex-direction:column;gap:var(--spacing-md);flex:1;min-width:0;background:var(--glass-bg);backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:var(--radius-lg);padding:var(--spacing-xl);box-shadow:0 4px 16px rgba(0,0,0,0.16);transition:all var(--transition-base)}
.report-meta:hover{border-color:var(--glass-border-hover);box-shadow:var(--shadow-lg)}

.article-badge{display:inline-block;width:fit-content;font-size:10px;font-weight:700;letter-spacing:0.1em;text-transform:uppercase;color:var(--color-primary);background:rgba(249,115,22,0.1);border:1px solid rgba(249,115,22,0.3);padding:4px 12px;border-radius:var(--radius-full)}

.article-title{color:var(--text-white-100);font-family:var(--font-poppins);font-weight:700;font-size:28px;letter-spacing:-0.02em;text-decoration:none;line-height:1.4;transition:all var(--transition-base);word-break:break-word}
.article-title:hover{color:var(--color-primary-light);text-shadow:0 0 20px rgba(249,115,22,0.3)}

.article-submeta{display:flex;align-items:center;gap:var(--spacing-md);flex-wrap:wrap;color:var(--text-white-70);font-size:13px;font-weight:500}
.meta-item{display:inline-flex;align-items:center;gap:6px}
.meta-icon{opacity:0.8;flex-shrink:0;font-size:16px;line-height:1}
.meta-divider{color:var(--text-white-40);user-select:none}

.source-chip{display:inline-flex;align-items:center;padding:4px 12px;background:rgba(139,92,246,0.12);border:1px solid rgba(139,92,246,0.3);border-radius:var(--radius-full);font-size:11px;font-weight:600;letter-spacing:0.05em;text-transform:uppercase;color:#A78BFA}

.report-actions{display:flex;gap:8px;align-items:flex-start}

.primary-button{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:12px 24px;border-radius:var(--radius-full);border:1px solid transparent;background:var(--gradient-primary);color:white;font-family:var(--font-inter);font-weight:600;font-size:14px;letter-spacing:-0.02em;cursor:pointer;box-shadow:0 4px 16px rgba(0,0,0,0.16),0 4px 16px rgba(249,115,22,0.3),inset 0 1px 0 rgba(255,255,255,0.2);transition:all var(--transition-base);white-space:nowrap}
.primary-button:hover:not(:disabled){transform:translateY(-2px);box-shadow:var(--shadow-lg),0 8px 24px rgba(249,115,22,0.4),inset 0 1px 0 rgba(255,255,255,0.2);filter:brightness(1.1)}
.primary-button:active:not(:disabled){transform:translateY(-1px) scale(0.98)}
.primary-button:disabled{opacity:0.5;cursor:not-allowed;transform:none}
.primary-button svg{width:16px;height:16px;fill:currentColor}

.analysis-cards-container{display:grid;grid-template-columns:1fr;gap:var(--spacing-xl);width:100%;max-width:1200px;margin:var(--spacing-2xl) auto var(--spacing-3xl);padding:0 var(--spacing-lg);position:relative;z-index:10}

/* Master glassmorphic style for all analysis cards */
.analysis-card,
.methodology-card,
details.methodology-card {
  position: relative;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-lg);
  transition: all var(--transition-base);
  animation: fadeInUp 0.8s var(--transition-slow);
}

.analysis-card {
  background: var(--glass-bg) !important;
  backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
}
.analysis-card:nth-child(1){animation-delay:0.5s}
.analysis-card:nth-child(2){animation-delay:0.6s}
.analysis-card:nth-child(3){animation-delay:0.7s}
.analysis-card:nth-child(4){animation-delay:0.8s}
.analysis-card:hover{border-color:var(--glass-border-hover);box-shadow:var(--shadow-xl);transform:translateY(-4px)}

/* Unused background div - kept for backward compatibility */
.card-background{display:none}
.card-content{position:relative;padding:var(--spacing-xl);z-index:1}

.card-header{display:flex;align-items:center;gap:var(--spacing-md);margin-bottom:var(--spacing-lg)}
.card-header.collapsible{cursor:pointer;user-select:none;padding:var(--spacing-lg);margin-bottom:0;transition:all var(--transition-base);border-radius:var(--radius-md)}
.card-header.collapsible:hover{background:rgba(255,255,255,0.04)}

.card-icon{display:flex;align-items:center;justify-content:center;width:40px;height:40px;font-size:20px;line-height:1;background:rgba(249,115,22,0.12);border:1px solid rgba(249,115,22,0.3);border-radius:var(--radius-md);flex-shrink:0;transition:all var(--transition-base)}
.analysis-card:hover .card-icon{transform:scale(1.1) rotate(5deg);background:rgba(249,115,22,0.18)}

#tribunal-verdicts-card,
#structural-analysis-card{display:none}

.card-title{font-family:var(--font-poppins);font-weight:700;font-size:20px;letter-spacing:-0.02em;color:var(--text-white-100);margin:0;flex:1}

.cloud-fallback-note{
  font-family:var(--font-inter);
  font-size:12px;
  font-weight:500;
  color:var(--text-white-70);
  padding:4px 12px;
  background:rgba(255,255,255,0.05);
  border-radius:var(--radius-full);
  border:1px solid rgba(255,255,255,0.08);
  white-space:nowrap;
  margin-left:auto;
  cursor:help;
  transition:all var(--transition-base);
}
.cloud-fallback-note:hover{
  color:var(--text-white-90);
  background:rgba(255,255,255,0.08);
  border-color:rgba(255,255,255,0.15);
}

.expand-icon{font-size:14px;color:var(--text-white-60);transition:transform var(--transition-base)}
details[open] .expand-icon{transform:rotate(180deg)}

.analysis-card--warning .card-icon{background:rgba(249,115,22,0.12);border-color:rgba(249,115,22,0.3)}
.analysis-card--warning:hover .card-icon{background:rgba(249,115,22,0.18)}

.analysis-card--success .card-icon{background:rgba(16,185,129,0.12);border-color:rgba(16,185,129,0.3)}
.analysis-card--success:hover .card-icon{background:rgba(16,185,129,0.18)}

.card-body{
  color:var(--text-white-90);
  font-family:var(--font-inter);
  font-size:15px;
  line-height:1.7;
  letter-spacing:-0.01em;
  max-height:none !important;
  overflow:visible !important;
}
.card-body ul{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:var(--spacing-md)}
.card-body li{position:relative;padding-left:28px;color:var(--text-white-90);transition:all var(--transition-base)}
.card-body li:hover{color:var(--text-white-100);transform:translateX(4px)}
.card-body li::before{content:'•';position:absolute;left:10px;color:var(--color-primary);font-weight:bold;font-size:18px}

#neutral-languages-content li::before{content:'?';color:var(--color-success);font-size:16px}

.language-example{padding:var(--spacing-md) var(--spacing-lg);background:rgba(249,115,22,0.06);border-left:4px solid var(--color-primary);border-radius:8px;margin-bottom:var(--spacing-md);transition:all var(--transition-base)}
.language-example:hover{background:rgba(249,115,22,0.1);border-left-width:5px;transform:translateX(4px);box-shadow:0 2px 8px rgba(0,0,0,0.12)}
.language-example:last-child{margin-bottom:0}

.language-phrase{font-weight:700;font-size:16px;color:var(--text-white-100);margin-bottom:8px;line-height:1.5}
.language-explanation{font-size:14px;color:var(--text-white-80);line-height:1.6;margin-top:4px}
.language-direction{display:inline-block;margin-top:8px;padding:4px 12px;background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.12);border-radius:8px;font-size:11px;font-weight:600;letter-spacing:0.05em;text-transform:uppercase;color:var(--text-white-90)}

.placeholder-text{color:var(--text-white-60);font-style:italic;margin:0;text-align:center;padding:var(--spacing-lg)}

.methodology-card[open] .card-content{padding-top:0;padding-bottom:var(--spacing-xl)}
.methodology-text{margin:0;color:var(--text-white-90);padding:var(--spacing-lg)}
.methodology-text strong{color:var(--text-white-100);font-weight:600}

.assistant-overlay{position:fixed;inset:0;background:rgba(15,23,42,0.7);backdrop-filter:blur(12px);z-index:1000;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity var(--transition-base)}
.assistant-overlay.visible{opacity:1}

#assistant-overlay{display:none}

#assistant-first-use-notice{display:none}

.assistant-modal{width:90vw;max-width:1200px;height:90vh;max-height:950px;background:linear-gradient(135deg,#1E293B 0%,#0F172A 100%);border-radius:var(--radius-xl);border:1px solid var(--glass-border-hover);box-shadow:var(--shadow-xl),0 0 48px rgba(0,0,0,0.5);display:flex;flex-direction:column;transform:scale(0.9);transition:transform var(--transition-base);overflow:hidden}
.assistant-overlay.visible .assistant-modal{transform:scale(1)}

.assistant-header{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-lg) var(--spacing-xl);border-bottom:1px solid var(--glass-border);background:rgba(255,255,255,0.02);flex-shrink:0}
.assistant-title{font-family:var(--font-poppins);font-weight:700;font-size:18px;color:var(--text-white-100);margin:0}

.assistant-close-btn{background:none;border:none;color:var(--text-white-60);font-size:28px;line-height:1;cursor:pointer;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:8px;transition:all var(--transition-base)}
.assistant-close-btn:hover{color:var(--text-white-100);background:rgba(255,255,255,0.08);transform:rotate(90deg)}

.assistant-chat-window{flex-grow:1;overflow-y:auto;padding:var(--spacing-xl);display:flex;flex-direction:column;gap:var(--spacing-md);background:rgba(0,0,0,0.2)}
.assistant-chat-window::-webkit-scrollbar{width:8px}
.assistant-chat-window::-webkit-scrollbar-track{background:rgba(255,255,255,0.02)}
.assistant-chat-window::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.1);border-radius:4px}
.assistant-chat-window::-webkit-scrollbar-thumb:hover{background:rgba(255,255,255,0.15)}

.assistant-message{max-width:85%;padding:var(--spacing-md) var(--spacing-lg);border-radius:var(--radius-md);font-family:var(--font-inter);font-size:15px;line-height:1.6;animation:messageSlideIn 0.3s var(--transition-base)}
@keyframes messageSlideIn{from{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}
.assistant-message.user{background:var(--gradient-primary);color:white;align-self:flex-end;border-bottom-right-radius:4px;box-shadow:0 2px 8px rgba(0,0,0,0.12)}
.assistant-message.assistant{background:rgba(255,255,255,0.06);color:var(--text-white-90);align-self:flex-start;border-bottom-left-radius:4px;border:1px solid rgba(255,255,255,0.08)}
.assistant-message.assistant p{margin-bottom:0.75em}
.assistant-message.assistant p:last-child{margin-bottom:0}
.assistant-message.assistant strong{color:var(--text-white-100);font-weight:600}
.assistant-message.assistant code{background:rgba(0,0,0,0.3);padding:2px 8px;border-radius:4px;font-size:13px;font-family:'Monaco','Menlo',monospace}
.assistant-message.assistant pre{background:rgba(0,0,0,0.4);border:1px solid rgba(255,255,255,0.1);border-radius:8px;padding:var(--spacing-md);margin:var(--spacing-sm) 0;overflow-x:auto;max-width:100%}
.assistant-message.assistant pre code{background:none;padding:0;font-size:13px;line-height:1.5;display:block}
.assistant-message.assistant h1,.assistant-message.assistant h2,.assistant-message.assistant h3{color:var(--text-white-100);font-family:var(--font-poppins);font-weight:600;margin:var(--spacing-md) 0 var(--spacing-sm) 0;line-height:1.3}
.assistant-message.assistant h1{font-size:22px;border-bottom:1px solid rgba(255,255,255,0.1);padding-bottom:var(--spacing-xs)}
.assistant-message.assistant h2{font-size:19px}
.assistant-message.assistant h3{font-size:16px}
.assistant-message.assistant ul,.assistant-message.assistant ol{margin:var(--spacing-sm) 0;padding-left:var(--spacing-lg)}
.assistant-message.assistant li{margin-bottom:var(--spacing-xs)}
.assistant-message.assistant blockquote{border-left:4px solid rgba(96,165,250,0.6);padding-left:var(--spacing-md);margin:var(--spacing-sm) 0;color:var(--text-white-80);font-style:italic;background:rgba(96,165,250,0.05);padding:var(--spacing-sm) var(--spacing-md);border-radius:4px}
.assistant-message.assistant hr{border:none;border-top:1px solid rgba(255,255,255,0.15);margin:var(--spacing-md) 0}
.assistant-message.assistant .katex{font-size:1.1em}
.assistant-message.assistant .katex-display{margin:var(--spacing-md) 0;overflow-x:auto;overflow-y:hidden}

.typing-indicator{display:flex;align-items:center;gap:4px;padding:var(--spacing-md)}
.typing-indicator span{display:inline-block;width:8px;height:8px;border-radius:50%;background:rgba(255,255,255,0.5);animation:typingBounce 1.4s infinite ease-in-out both}
.typing-indicator span:nth-child(1){animation-delay:-0.32s}
.typing-indicator span:nth-child(2){animation-delay:-0.16s}
@keyframes typingBounce{0%,80%,100%{transform:scale(0);opacity:0.3}40%{transform:scale(1);opacity:1}}

.assistant-footer{padding:var(--spacing-lg) var(--spacing-xl);border-top:1px solid var(--glass-border);background:rgba(255,255,255,0.02);flex-shrink:0}
.assistant-form{position:relative;display:flex;align-items:center;width:100%}
.assistant-input{flex:1;background:rgba(15,23,42,0.6);border:1px solid rgba(255,255,255,0.12);border-radius:var(--radius-full);padding:14px 24px;color:var(--text-white-100);font-family:var(--font-inter);font-size:15px;transition:all var(--transition-base);box-shadow:inset 0 1px 4px rgba(255,255,255,0.08),inset 0 -8px 18px rgba(15,23,42,0.55)}
.assistant-input:focus{outline:none;border-color:rgba(96,165,250,0.9);background:rgba(15,23,42,0.75);box-shadow:inset 0 2px 6px rgba(255,255,255,0.12),inset 0 -10px 22px rgba(15,23,42,0.6),0 0 0 4px rgba(59,130,246,0.2)}
.assistant-input::placeholder{color:var(--text-white-40)}

.assistant-send-btn{position:absolute;right:12px;top:50%;transform:translateY(-50%);width:48px;height:48px;border-radius:50%;border:none;background:linear-gradient(135deg,#60A5FA 0%,#2563EB 100%);color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all var(--transition-base);box-shadow:0 12px 28px rgba(37,99,235,0.35),0 0 32px rgba(96,165,250,0.4)}
.assistant-send-btn:hover{transform:translateY(-50%) scale(1.05);box-shadow:0 16px 36px rgba(37,99,235,0.45),0 0 40px rgba(96,165,250,0.5)}
.assistant-send-btn:active{transform:translateY(-50%) scale(0.95)}
.assistant-send-btn svg{display:block;color:inherit}

@media(max-width:768px){
.results-top-row{flex-direction:column;align-items:flex-start;gap:8px;padding:12px 16px}
.back-link{order:-1;align-self:flex-end}
.results-main-content{padding-top:70px}
.header-icon{display:none}
.bias-hero{grid-template-columns:1fr;padding:0 var(--spacing-md);margin:var(--spacing-lg) auto;gap:var(--spacing-xl);text-align:center}
.hero-details{align-items:center}
.hero-content{padding:var(--spacing-lg)}
.bias-rating{font-size:32px}
.metrics-row{flex-direction:column;max-width:100%}
.assistant-trigger-container{padding:0 var(--spacing-md)}
.report-header{flex-direction:column;padding:var(--spacing-lg)}
.report-actions{width:100%}
.primary-button{width:100%}
.analysis-cards-container{padding:0 var(--spacing-md);gap:var(--spacing-lg)}
.card-content{padding:var(--spacing-lg)}
.card-header.collapsible{padding:var(--spacing-md)}
.card-title{font-size:18px}
.assistant-modal{width:95%;max-height:90vh}
}

@media print{
.orb,.assistant-trigger-container,.on-device-warning,.back-link,.header-icon,.report-actions,.prompt-starters{display:none!important}
body{color:#000;background:#fff}
.results-container{background:#fff}
.analysis-card,.methodology-card,.report-header{border-color:#ccc!important;box-shadow:none!important;page-break-inside:avoid}
.bias-rating{color:#000;background:#f5f5f5;border:2px solid #ccc}
}

@media(prefers-reduced-motion:reduce){
*,*::before,*::after{animation-duration:0.01ms!important;animation-iteration-count:1!important;transition-duration:0.01ms!important}
}

:focus-visible{outline:2px solid var(--color-primary);outline-offset:2px;border-radius:8px}
@media(prefers-contrast:high){
.glass-bg{background:rgba(255,255,255,0.15)}
.glass-border{border-color:rgba(255,255,255,0.3)}
}
